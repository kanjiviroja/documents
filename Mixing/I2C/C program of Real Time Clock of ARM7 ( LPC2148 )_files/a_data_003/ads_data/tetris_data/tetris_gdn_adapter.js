(function(){var k=this,l=function(a,g){var h=a.split("."),d=k;h[0]in d||!d.execScript||d.execScript("var "+h[0]);for(var e;h.length&&(e=h.shift());)h.length||void 0===g?d=d[e]?d[e]:d[e]={}:d[e]=g};var m=function(a,g){for(var h in a)if(g.call(void 0,a[h],h,a))return!0;return!1};var n=function(a){return m(a,function(a,h){var d;if(d="@"!=h[0]&&null!=a&&""!==a)d=typeof a,d=!("object"==d&&null!=a||"function"==d)||n(a);return d&&a!==[]})},p=function(a,g){n(a)&&g.push(a)},q=function(a){for(var g={"@type":"root",tetris:{"@type":"Creative",customInvites:{"@type":"CustomInvites","160x600":a("tetris-customInvites-160x600"),"300x250":a("tetris-customInvites-300x250"),"320x50":a("tetris-customInvites-320x50"),"728x90":a("tetris-customInvites-728x90"),"120x600":a("tetris-customInvites-120x600"),
"200x200":a("tetris-customInvites-200x200"),"250x250":a("tetris-customInvites-250x250"),"300x600":a("tetris-customInvites-300x600"),"320x100":a("tetris-customInvites-320x100"),"336x280":a("tetris-customInvites-336x280"),"468x60":a("tetris-customInvites-468x60"),"580x400":a("tetris-customInvites-580x400"),"970x90":a("tetris-customInvites-970x90"),"970x250":a("tetris-customInvites-970x250")},customHeaders:{"@type":"CustomHeaders","350x75":a("tetris-customHeaders-350x75"),"900x125":a("tetris-customHeaders-900x125"),
"1200x150":a("tetris-customHeaders-1200x150")},common:{"@type":"Common",logo:a("tetris-common-logo"),demoId:a("tetris-common-demoId"),theme:a("tetris-common-theme"),fontFamily:a("tetris-common-fontFamily")||a("tetris-common-googleFontName"),fontStyle:a("tetris-common-fontStyle"),fontWeight:a("tetris-common-fontWeight"),accentColor:a("tetris-common-accentColor").replace(/^0x/,"#"),backgroundColor:a("tetris-common-backgroundColor").replace(/^0x/,"#"),backgroundFadeOpacity:parseFloat(a("tetris-common-backgroundFadeOpacity")),
bordered:!0,logoHref:a("tetris-common-logoHref"),fontLockerFontName:a("tetris-common-fontLocker-fontName"),captions:[]},assets:{"@type":"Assets",cards:[]}}},h=g.tetris.common.captions,d=g.tetris.assets.cards,e=0;10>e;e++){p({"@type":"Message",text:a("tetris-common-caption"+e+"Message-text")},h);p({"@type":"Cta",text:a("tetris-common-caption"+e+"Cta-text"),href:a("tetris-common-caption"+e+"Cta-href")},h);var b=a("tetris-assets-card"+e+"Video-videoUrl");p({"@type":"VideoAsset",videoId:(/(?:video_id|v)=([a-zA-Z0-9_-]{11})/.exec(b)||
["",""])[1],videoUrl:b,image:a("tetris-assets-card"+e+"Video-image")},d);for(var c=[],f="tetris-assets-card"+e+"ImageGallery",b=0;10>b;b++)p({"@type":"ImageGalleryImage",image:a(f+"-image"+b+"-image"),title:a(f+"-image"+b+"-title"),text:a(f+"-image"+b+"-text"),cta:a(f+"-image"+b+"-cta"),href:a(f+"-image"+b+"-href")},c);p({"@type":"ImageGalleryAsset",images:c},d);if("true"==a("tetris-assets-card"+e+"ProductGallery-insert")){c=[];f="tetris-assets-cardXProductGallery";for(b=0;30>b;b++)p({"@type":"ProductGalleryProduct",
image:a(f+"-product"+b+"-imageUrl"),title:a(f+"-product"+b+"-name"),text:a(f+"-product"+b+"-description"),price:a(f+"-product"+b+"-price"),href:a(f+"-product"+b+"-url")},c);p({"@type":"ProductGalleryAsset",products:c},d)}if("true"==a("tetris-assets-card"+e+"Map-insert")){f=[];c=a("LOCATION_EXTENSION_DATA");"string"==typeof c&&(c=JSON.parse(c));c=c||[];for(b=0;b<c.length;b++)p({"@type":"MapLocation",latitude:c[b].latitude,longitude:c[b].longitude,address:c[b].address,name:c[b].name||"",featureId:c[b].featureId||
"",phoneNumber:c[b].phoneNumber||"",mapImageUrlSmall:c[b].mapImageUrlSmall||"",mapImageUrlBig:c[b].mapImageUrlBig||"",exitUrlPlace:c[b].exitUrlPlace||"",exitUrlDirections:c[b].exitUrlDirections||""},f);p({"@type":"MapAsset",locations:f,startingAddress:a("tetris-assets-card"+e+"Map-startingAddress")},d)}}return g};l("studioinnovation.layouts.lightbox.tetris.gdnAdapter.translateFromEnablerParams",function(){return JSON.stringify(q(function(a){a=k.Enabler.getParameter(a);return null!=a?a:""}))});
l("studioinnovation.layouts.lightbox.tetris.gdnAdapter.translateFromDataObject",function(a){return q(function(g){return null!=a[g]?a[g]:""})});})();
